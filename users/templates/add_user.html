{% extends "layout.html" %}
{% block title %} Add user - MyLibrary {% endblock %}
{% block cotent %}
  <div class="banner">
    <a class="btn" href="{% url 'users' %}">Back to list</a>
    <h2>Add a User</h2>
  </div>
  <div>
    <form action="{% url 'addUser' %}" method="POST">
      {% csrf_token %}
      <h2>Enter user details</h2>
      {% if form.errors %}
      <div class="errors">
        <ul>
          {% for field, errors in form.errors.items %}
            {% if field == 'names' %}
          <li>Full name: {{ errors }}</li>
            {% elif field == 'phone' %}
          <li>Phone number: {{ errors }}</li>
            {% else %}
          <li>{{ field }}: {{ errors }}</li>
            {% endif %}
          {% endfor %}
        </ul>
      </div>
      {% endif %}
      <div>
        <label>Full name</label>
        {% if form.names.value %}
        <input type="text" name="names" class="input" placeholder="e.g. Ahmad Sani" value="{{ form.names.value }}" required />
        {% else %}
        <input type="text" name="names" class="input" placeholder="e.g. Ahmad Sani" required />
        {% endif %}
      </div>
      <div>
        <label>Username</label>
        {% if form.username.value %}
        <input type="text" name="username" class="input" placeholder="e.g. USER001" value="{{ form.username.value }}" required />
        {% else %}
        <input type="text" name="username" class="input" placeholder="e.g. USER001" required />
        {% endif %}
      </div>
      <div>
        <label>Email</label>
        {% if form.email.value %}
        <input type="email" name="email" class="input" placeholder="e.g. ahmad.sani@gmail.com" value="{{ form.email.value }}" required />
        {% else %}
        <input type="email" name="email" class="input" placeholder="e.g. ahmad.sani@gmail.com" required />
        {% endif %}
      </div>
      <div>
        <label>Phone number</label>
        {% if form.phone.value %}
        <input type="tel" name="phone" class="input" placeholder="e.g. 08023456789" value="{{ form.phone.value }}" required />
        {% else %}
        <input type="tel" name="phone" class="input" placeholder="e.g. 08023456789" required />
        {% endif %}
      </div>
      <div>
        <button class="btn">Add user</button>
      </div>
    </form>
  </div>
{% endblock %}
{% block styles %}
<style>
  form {
    max-width: 560px;
    margin: auto;
    display: flex;
    flex-direction: column;
    gap: 24px;
    background-color: white;
    padding: 24px;
  }
  form .input {
    display: block;
    width: 100%;
    padding: 8px 12px;
    font-size: inherit;
    font-family: inherit;
    outline: none;
  }
  ul {
    list-style-type: none;
    color: red;
    font-style: italic;
  }
  ul ul {
    margin-left: 1rem;
  }
  button.btn {
    width: 100%;
    justify-content: center;
    cursor: pointer;
    outline: none;
    border: none;
    margin-bottom: 12px;
  }
</style>
{% endblock %}
